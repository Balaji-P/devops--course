<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Scaling To Infinity: The Quest For Fully Automated, Scalable, Self-Healing System With Zero-Downtime</title>

		<meta name="author" content="Viktor Farcic">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="../css/reveal.css">
		<link rel="stylesheet" href="../css/theme/black.css" id="theme">
		<link rel="stylesheet" href="../css/theme/vfarcic.css">

		<!-- Code syntax highlighting -->
		<!--<link rel="stylesheet" href="lib/css/zenburn.css">-->

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../css/print/pdf.css' : '../css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="../lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section id="cover" data-background="img/background/scaling.jpeg">
					<h1>Scaling To Infinity</h1>
					<h3>The Quest For Fully Automated, Scalable, Self-Healing System With Zero-Downtime</h3>
					<hr/>
					<h2>
						<a href="http://technologyconversations.com/about/">Viktor Farcic</a>
					</h2>
					<hr/>
					<h4>
						<a href="https://twitter.com/vfarcic">@vfarcic</a>
					</h4>
					<h4>
						<a href="http://technologyconversations.com">TechnologyConversations.com</a>
					</h4>
					<h4>
						<a href="https://www.cloudbees.com">CloudBees.com</a>
					</h4>
				</section>
				<section data-background="../img/background/about-me.jpg">
					<section id="about-me">
						<h2>Viktor Farcic</h2>
						<img src="../img/viktor.jpg" style="width: 50%; height: 50%;" />
					</section>
					<section id="about-company">
						<a href="https://www.cloudbees.com">
							<img src="../img/company-big.png" style="background-color: white;" />
						</a>
					</section>
					<section id="about-docker">
						<img src="../img/docker-captain.png" style="width: 50%; height: 50%;" />
					</section>
					<section id="about-books">
						<a href="https://leanpub.com/the-devops-2-toolkit">
							<img src="../img/devops2.png" style="float: left; width: 40%; height: 40%;" />
						</a>
						<a href="http://www.amazon.com/Test-Driven-Java-Development-Viktor-Farcic-ebook/dp/B00YSIM3SC">
							<img src="../img/tdd.jpg" style="float: right; width: 40%; height: 40%;" />
						</a>
					</section>
				</section>
				<section data-background="img/background/rage.jpg">
					<section id="failures-customers">
						<h4>History of the Failed Initiatives</h4>
						<h2>Customers</h2>
						<ul>
							<li class="fragment">Small greenfield projects</li>
							<li class="fragment">Automotive industry</li>
							<li class="fragment">Lotteries</li>
							<li class="fragment">Banks</li>
							<li class="fragment">Insurances</li>
							<li class="fragment">Everything in between</li>
						</ul>
					</section>
					<section id="failures-problems">
						<h4>History of the Failed Initiatives</h4>
						<h2>Problems</h2>
						<ul>
							<li class="fragment">Integration phase = Dante's Infierno</li>
							<li class="fragment">Testing</li>
							<li class="fragment">eXtreme programming (XP)</li>
							<li class="fragment">Continuous deployment</li>
							<li class="fragment">Architecture</li>
							<h2><label class="fragment">Failure</label> <label class="fragment">after</label> <label class="fragment">failure</label></h2>
						</ul>
					</section>
					<section id="failures-improvement">
						<h4>History of the Failed Initiatives</h4>
						<h3 class="fragment">Each improvement</h3>
						<h3 class="fragment">raises the bar</h3>
						<h3 class="fragment">and converts itself into a failure</h3>
					</section>
					<section id="failures-today">
						<h4>History of the Failed Initiatives</h4>
						<h2>Today?</h2>
						<ul>
							<li class="fragment">Small specialized tools</li>
							<li class="fragment">Immutable deployments</li>
							<li class="fragment">Blue-green deployments</li>
							<li class="fragment">Service discovery</li>
							<li class="fragment">Domain-driven design</li>
							<li class="fragment">Continuous delivery/deployment</li>
							<li class="fragment">Scalable and fault tolerant systems</li>
						</ul>
					</section>
				</section>
				<section data-background="img/background/why.jpg">
					<section id="scaling-why">
						<h1>Why Scaling?</h1>
						<ul>
							<li class="fragment">Business</li>
							<li class="fragment">Applications and services</li>
							<li class="fragment">Teams</li>
						</ul>
					</section>
				</section>
				<section id="history" data-background="img/background/fireworks.png">
					<h2>Things in Common</h2>
					<ul>
						<li class="fragment">Domain-driven design</li>
						<li class="fragment">Continuous delivery/deployment</li>
						<li class="fragment">Containers</li>
						<li class="fragment">Small autonomous teams</li>
						<li class="fragment">Scalable systems</li>
					</ul>
					<h2 class="fragment">Microservices</h2>
				</section>
				<section data-background="../img/background/monolith.png">
					<section id="monolith">
						<h2>Monolithic applications</h2>
						<ul>
							<li class="fragment">Single unit</li>
							<li class="fragment">Layers</li>
							<li class="fragment">Time increases complexity and size</li>
							<li class="fragment">Time decreases development, testing and deployment speed</li>
							<li class="fragment">Change is hard and with risks</li>
							<li class="fragment">Scaling = multiplication of the entire application</li>
						</ul>
					</section>
					<section id="monolith-simple">
						<h4>Monolithic applications</h4>
						<h2>Early</h2>
						<img src="img/monolith/monolith.png">
					</section>
					<section id="monolith-features">
						<h4>Monolithic applications</h4>
						<h2>Later</h2>
						<img src="img/monolith/monolith-features.png">
					</section>
					<section id="monolith-scaling">
						<h4>Monolithic applications</h4>
						<h2>Scaling</h2>
						<img src="img/monolith/monolith-scaling.jpeg" style="width: 80%; height: 80%;">
					</section>
				</section>
				<section data-background="../img/background/microservices.jpg">
					<section id="ms">
						<h2>Microservices</h2>
						<h4>Applications that fit into a screen</h4>
						<ul>
							<li class="fragment">System composed of small services</li>
							<li class="fragment">Autonomy/independence</li>
							<li class="fragment">Data exchange through APIs</li>
							<li class="fragment">Bounded context</li>
						</ul>
					</section>
					<section id="ms-diagram">
						<h4>Microservices</h4>
						<h2>Self-Sufficiency</h2>
						<img src="img/ms/microservices.png">
					</section>
					<section id="ms-gartner">
						<h4>Microservices</h4>
						<h2>Gartner</h2>
						<blockquote>
							Microservices are simpler, developers get more productive and systems can be scaled quickly and precisely, rather than in large monolithic globs. And I havenâ€™t even mentioned the potential for polyglot coding and data persistence.
							<br/><div style="float: right;">- Gary Olliffe</div>
						</blockquote>
					</section>
					<section id="ms-ood">
						<h4>Microservices</h4>
						<h2>Object-Oriented Design</h2>
						<blockquote>
							The big idea is 'messaging'.
							The key in making great and growable systems is much more to design how its modules communicate rather than what their internal properties and behaviors should be.
							<br/><div style="float: right;">- Alan Kay</div>
						</blockquote>
					</section>
					<section id="ms-srp">
						<h4>Microservices</h4>
						<h2>Single Responsibility Principle</h2>
						<blockquote>
							Gather together those things that change for the same reason, and separate those things that change for different reasons
							<div style="float: right;">- Robert C. Martin</div>
						</blockquote>
					</section>
					<section id="ms-linux">
						<h4>Microservices</h4>
						<h2>Linux = Microservices</h2>
                    	<pre><code data-trim contenteditable>
ps aux | grep jav[a] | awk '{print $2}' | xargs kill
						</code></pre>
					</section>
				</section>
				<section data-background="../img/background/microservices.jpg">
					<section id="ms-keys">
						<h2>Microservices</h2>
						<ul>
							<li class="fragment">One thing or one functionality</li>
							<li class="fragment">Any tools or languages</li>
							<li class="fragment">Truly loosely coupled</li>
							<li class="fragment">Teams independence</li>
							<li class="fragment">Easier testing and CD</li>
							<li class="fragment">Decentralization</li>
						</ul>
					</section>
					<section id="ms-cons" data-background="img/background/microservices.png">
						<h4>Microservices</h4>
						<h2>Disadvantages</h2>
						<ul>
							<li class="fragment">Increased operational and deployment complexity
								<ul>
									<li class="fragment">Configuration Management</li>
									<li class="fragment">Containers (Docker)</li>
									<li class="fragment">Work shifted from development to DevOps</li>
								</ul>
							</li>
							<li class="fragment">Remote process calls</li>
						</ul>
					</section>
					<section id="ms-pros">
						<h4>Microservices</h4>
						<h2>Advantages</h2>
						<ul>
							<li class="fragment">Scaling</li>
							<li class="fragment">Resilience / fault isolation</li>
							<li class="fragment">Innovation</li>
							<li class="fragment">Size</li>
							<li class="fragment">Decoupling</li>
							<li class="fragment">Deployment</li>
							<li class="fragment">No need for long term commitment</li>
						</ul>
					</section>
					<section id="ms-bp">
						<h4>Microservices</h4>
						<h2>Best Practices</h2>
						<ul>
							<li class="fragment">Containers (Docker)</li>
							<li class="fragment">Reverse proxy</li>
							<li class="fragment">Minimalist approach</li>
							<li class="fragment">CM is a must</li>
							<li class="fragment">Cross functional teams</li>
							<li class="fragment">API versioning</li>
						</ul>
					</section>
				</section>
				<section data-background="../img/background/continuous-deployment.png">
					<section id="ci-cd">
						<h2>Continuous deployment</h2>
						<ul>
							<li class="fragment"><strong>Continuous integration</strong>
								<div>
									<label class="fragment">Push/clone,</label>
									<label class="fragment">Static analysis,</label>
									<label class="fragment">Pre-deployment testing,</label>
									<label class="fragment">Packaging/deployment,</label>
									<label class="fragment">Post-deployment testing</label>
								</div>
							</li>
							<li class="fragment"><strong>Continuous delivery</strong>
								<div>
									<label class="fragment">every commit <label class="fragment grow highlight-current-green">can be</label> deployed to production</label>
								</div>
							</li>
							<li class="fragment"><strong>Continuous deployment</strong>
								<div>
									<label class="fragment">every commit <label class="fragment grow highlight-current-green">is</label> deployed to production</label>
								</div>
							</li>
						</ul>
					</section>
				</section>
				<section data-background="../img/background/containers.png">
					<section id="containers">
						<h2>Containers (Docker)</h2>
						<blockquote>Shipping container is an object for holding or transporting something</blockquote>
						<img src="img/containers/docker.png" style="float: right; width: 40%; height: 40%; background-color: white;">
						<ul>
							<li class="fragment">Isolated</li>
							<li class="fragment">Immutable</li>
							<li class="fragment">Reliable</li>
							<li class="fragment">Self-sufficient</li>
							<li class="fragment">Scalable</li>
						</ul>
					</section>
					<section id="containers-vms">
						<h4>Containers (Docker)</h4>
						<h2>VMs vs Containers</h2>
						<img src="img/containers/containers-vms.png" style="width: 85%; height: 85%;">
					</section>
					<section id="container-self-sufficient">
						<h4>Containers (Docker)</h4>
						<h2>Self-sufficient container</h2>
						<img src="img/containers/container.png" style="width: 60%; height: 60%;">
					</section>
					<section id="container-db">
						<h4>Containers (Docker)</h4>
						<h2>Container with the separate DB</h2>
						<img src="img/containers/container-db.png" style="width: 90%; height: 90%; ">
					</section>
					<section id="container-shared-db">
						<h4>Containers (Docker)</h4>
						<h2>Containers with the shared DB</h2>
						<img src="img/containers/container-shared-db.png" style="width: 70%; height: 70%; ">
					</section>
				</section>
				<section data-background="../img/background/deployment.png">
					<section id="deployment">
						<h2>Deployment</h2>
						<ul>
							<li class="fragment">Big vs small</li>
							<li class="fragment">Mutable vs immutable</li>
						</ul>
					</section>
					<section id="deployment-mutable">
						<h3>Deployment</h3>
						<h2>Mutable Monster Server</h2>
						<div>
							<img src="img/deployment/mutable-application-server.png">
						</div>
					</section>
					<section id="deployment-immutable-server-01" data-transition="fade-in slide-out">
						<h3>Deployment</h3>
						<h2>Immutable Server</h2>
						<div>
							<img src="img/deployment/immutable-application-server-01.png">
						</div>
					</section>
					<section id="deployment-immutable-server-02" data-transition="fade-in slide-out">
						<h3>Deployment</h3>
						<h2>Immutable Server</h2>
						<div>
							<img src="img/deployment/immutable-application-server-02.png">
						</div>
					</section>
					<section id="deployment-immutable-server-03" data-transition="fade-in slide-out">
						<h3>Deployment</h3>
						<h2>Immutable Server</h2>
						<div>
							<img src="img/deployment/immutable-application-server-03.png">
						</div>
					</section>
					<section id="deployment-immutable-server-04" data-transition="fade-in slide-out">
						<h3>Deployment</h3>
						<h2>Immutable Server</h2>
						<div>
							<img src="img/deployment/immutable-application-server-04.png">
						</div>
					</section>
					<section id="deployment-immutable-ms-01" data-transition="fade-in slide-out">
						<h3>Deployment</h3>
						<h2>Immutable Micro Services</h2>
						<div>
							<img src="img/deployment/immutable-microservices-01.png">
						</div>
					</section>
					<section id="deployment-immutable-ms-02" data-transition="fade-in slide-out">
						<h3>Deployment</h3>
						<h2>Immutable Micro Services</h2>
						<div>
							<img src="img/deployment/immutable-microservices-02.png">
						</div>
					</section>
					<section id="deployment-immutable-ms-03" data-transition="fade-in slide-out">
						<h3>Deployment</h3>
						<h2>Immutable Micro Services</h2>
						<div>
							<img src="img/deployment/immutable-microservices-03.png">
						</div>
					</section>
					<section id="deployment-immutable-ms-04" data-transition="fade-in slide-out">
						<h3>Deployment</h3>
						<h2>Immutable Micro Services</h2>
						<div>
							<img src="img/deployment/immutable-microservices-04.png">
						</div>
					</section>
				</section>
				<section data-background="../img/background/configuration-management.png">
					<section id="cm">
						<h2>Configuration Management in the Docker World</h2>
						<table>
							<tr>
								<td class="fragment" style="width: 24%;">
									<img src="img/cm/cfengine.png" style="background-color: white;">
								</td>
								<td class="fragment" style="width: 24%;">
									<img src="img/cm/puppet.png" style="background-color: white;">
								</td>
								<td class="fragment" style="width: 24%;">
									<img src="img/cm/chef.png" style="background-color: white;">
								</td>
								<td class="fragment" style="width: 24%;">
									<img src="img/cm/ansible.png" style="background-color: white;">
								</td>
							</tr>
						</table>
					</section>
				</section>
				<section data-background="../img/background/service-discovery.png">
					<section id="sd">
						<h2>Service Discovery</h2>
						<img src="img/sd/service-discovery.png">
					</section>
					<section id="sd-single-node">
						<h4>Service Discovery</h4>
						<h2>Single node</h2>
						<img src="img/sd/single-node-docker.png">
					</section>
					<section id="sd-multi-node">
						<h4>Service Discovery</h4>
						<h2>Multiple nodes</h2>
						<img src="img/sd/multi-node-docker.png">
					</section>
					<section id="sd-elements">
						<h4>Service Discovery</h4>
						<h2>Service Discovery Elements</h2>
						<ul>
							<li class="fragment">Service registry</li>
							<li class="fragment">Service registration</li>
							<li class="fragment">Service discovery</li>
						</ul>
					</section>
					<section id="sd-tools">
						<h4>Service Discovery</h4>
						<h2>Tools</h2>
						<ol>
							<li class="fragment">Manual configuration</li>
							<li class="fragment">Zookeeper</li>
							<li class="fragment">etcd / Registrator / confd</li>
							<li class="fragment">
								<label class="fragment grow highlight-current-green">Consul / Registrator / Consul Template</label>
							</li>
						</ol>
					</section>
					<section id="sd-consul-registrator-consul-template-diagram">
						<h4>Service Discovery</h4>
						<h2>Consul / Registrator / Consul Template</h2>
						<img src="img/sd/consul-registrator-consul-template.png">
					</section>
				</section>
				<section data-background="img/background/proxy.png">
					<section id="proxy">
						<h2>Proxy Service</h2>
						<img src="img/ms/microservices.png" class="fragment">
					</section>
					<section id="proxy-consul-diagram">
						<h4>Proxy Service</h4>
						<h2>Configuring Proxy with Consul</h2>
						<img src="img/proxy/proxy-consul.png">
					</section>
				</section>
				<section data-background="img/background/blue-green.png">
					<section id="bg" data-transition="fade-in slide-out">
						<h2>Blue-Green Deployment</h2>
						<h4>&nbsp;</h4>
						<img src="img/bg/blue-green-containers-only.png" class="fragment">
					</section>
					<section id="bg-blue" data-transition="fade-in slide-out">
						<h4>Blue-Green Deployment</h4>
						<h2>Deploy Blue</h2>
						<img src="img/bg/blue-green-containers-deploy-blue.png">
					</section>
					<section id="bg-integ-blue" data-transition="fade-in slide-out">
						<h4>Blue-Green Deployment</h4>
						<h2>Integrate Blue</h2>
						<img src="img/bg/blue-green-containers-integrate-blue.png">
					</section>
					<section id="bg-green" data-transition="fade-in slide-out">
						<h4>Blue-Green Deployment</h4>
						<h2>Deploy Green</h2>
						<img src="img/bg/blue-green-containers-deploy-green.png">
					</section>
					<section id="bg-integ-green" data-transition="fade-in slide-out">
						<h4>Blue-Green Deployment</h4>
						<h2>Integrate Green</h2>
						<img src="img/bg/blue-green-containers-integrate-green.png">
					</section>
					<section id="bg-remove-blue" data-transition="fade-in slide-out">
						<h4>Blue-Green Deployment</h4>
						<h2>Remove Blue</h2>
						<img src="img/bg/blue-green-containers-remove-blue.png">
					</section>
					<section id="bg-get-color" data-transition="fade-in slide-out">
						<h4>Blue-Green Deployment</h4>
						<h2>Get the Current Color</h2>
						<img src="img/bg/blue-green-containers-get-color.png">
					</section>
					<section id="bg-put-color" data-transition="fade-in">
						<h4>Blue-Green Deployment</h4>
						<h2>Put the Current Color</h2>
						<img src="img/bg/blue-green-containers-put-color.png">
					</section>
					<section id="bg-flow">
						<h4>Blue-Green Deployment</h4>
						<h2>The Flow</h2>
						<img src="img/bg/blue-green-flow.png">
					</section>
				</section>
				<section data-background="img/background/scaling.jpeg">
					<section id="scale">
						<h2>Clustering And Scaling Services</h2>
						<img src="../img/servers.png" class="fragment">
						<img src="../img/cluster.png" class="fragment">
					</section>
					<section id="scale-tools">
						<h4>Clustering And Scaling Services</h4>
						<h2>Tools</h2>
						<ul>
							<li class="fragment">Kubernetes</li>
							<li class="fragment">Mesos DCOS</li>
							<li class="fragment"><label class="fragment grow highlight-current-green">Swarm</label></li>
						</ul>
					</section>
				</section>
				<section data-background="../img/background/health.png">
					<section id="health">
						<h2>Self-Healing Systems</h2>
						<ul>
							<li class="fragment">Application level</li>
							<li class="fragment">System level</li>
							<li class="fragment">Hardware level</li>
						</ul>
					</section>
					<section id="health-ttl">
						<h4>Self-Healing Systems</h4>
						<h2>System Level: Time-To-Live (TTL)</h2>
						<img src="img/health/health-ttl.png">
					</section>
					<section id="health-ping">
						<h4>Self-Healing Systems</h4>
						<h2>System Level: Pings</h2>
						<img src="img/health/health-ping.png">
					</section>
					<section id="health-types">
						<h4>Self-Healing Systems</h4>
						<h2>Check Types</h2>
						<ul>
							<li class="fragment">Reactive</li>
							<li class="fragment">Preventive</li>
						</ul>
					</section>
					<section id="health-consul">
						<h4>Self-Healing Systems</h4>
						<h2>Consul Health Checks</h2>
						<img src="img/health/health-consul.png">
					</section>
				</section>
				<section data-background="../img/background/summary.png">
					<section id="summary">
						<h2>Say Again</h2>
						<ul>
							<li class="fragment"><label class="fragment grow highlight-current-green">Immutable</label> over mutable deployments</li>
							<li class="fragment"><label class="fragment grow highlight-current-green">Small</label> over big</li>
							<li class="fragment"><label class="fragment grow highlight-current-green">Automation</label> over manual procedures</li>
							<li class="fragment"><label class="fragment grow highlight-current-green">Service discovery</label> over predefined configuration</li>
							<li class="fragment"><label class="fragment grow highlight-current-green">Dynamic</label> over static</li>
							<li class="fragment"><label class="fragment grow highlight-current-green">Specialized</label> over do-it-all tools</li>
						</ul>
						<h4 class="fragment">
							That is, while there is value in the items on the <label class="fragment grow highlight-current-blue">right</label>, we value the items on the <label class="fragment grow highlight-current-green">left</label> more.
						</h4>
					</section>
				</section>
				<section  data-background="../img/background/the_end.jpg">
					<section id="the-end-blog">
						<h2>Viktor Farcic</h2>
						<hr/>
						<h3><a href="https://twitter.com/vfarcic">@vfarcic</a></h3>
						<hr/>
						<figure>
							<img src="../img/qr/technology-conversations.jpg"/>
						</figure>
						<h3><a href="http://technologyconversations.com">TechnologyConversations.com</a></h3>
					</section>
					<section id="the-end-book">
						<h2>Viktor Farcic</h2>
						<hr/>
						<div>
							<figure style="width: 30%; height: 30%; float: left;">
								<img src="../img/qr/devops2-amazon.jpg"/>
								<figcaption><a href="http://www.amazon.com/dp/B01BJ4V66M">Amazon</a></figcaption>
							</figure>
							<figure style="width: 30%; height: 30%; float: right;">
								<img src="../img/qr/devops2-leanpub.jpg"/>
								<figcaption><a href="https://leanpub.com/the-devops-2-toolkit">LeanPub</a></figcaption>
							</figure>
							<a href="https://leanpub.com/the-devops-2-toolkit">
								<img src="../img/devops2.png" style="width: 30%; height: 30%;" />
							</a>
						</div>
					</section>
				</section>
			</div>

		</div>

		<script src="../lib/js/head.min.js"></script>
		<script src="../js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: '../lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '../plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
//					{ src: '../plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '../plugin/zoom-js/zoom.js', async: true },
					{ src: '../plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
